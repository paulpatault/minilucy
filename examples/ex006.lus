node aux (i : int) returns (o: int);
var x : int;
let
  x = 1;
  automaton
  | Await ->
      automaton
      | A -> o = 0 -> pre x + 1;
             until (x = i) continue B
      | B -> o = 0 -> pre x - 1;
             until (x > i) continue A
      end
      until (x = i) continue Run
  | Run ->
      o = 0 -> pre x - 1;
      until (x > i) continue Await
  end
tel

node main () returns (o: bool);
var x : int;
let
  x = aux (1, 3);
  o = true;
tel
