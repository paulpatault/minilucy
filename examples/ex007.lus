type t = Chaud | Froid

node oscillateur (lo, hi : int) returns (x: int);
var state : t;
let
  state = Chaud ->
            (merge (state)
              (Chaud -> if (x >= hi) then Froid else Chaud)
              (Froid -> if (x <= lo) then Chaud else Froid))

  x = merge (state)
            (Chaud -> 0 -> pre x + 1 when Chaud(state))
            (Froid -> 0 -> pre x + 1 when Froid(state))
tel

node main1 () returns (o: bool);
var x: int;
let
  x = oscillateur (-5, 5);
  o = true;
tel
