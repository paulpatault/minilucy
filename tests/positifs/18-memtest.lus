node f () returns (o:int);
var x, y: int;
let
  x = 0 -> pre x + 1;
  automaton
  | Plus0 ->
      y = 0 -> pre y + 1;
      until x mod 5 = 0 continue Moins0
  | Moins0 ->
      y = 0 -> pre y - 1;
      until x mod 5 = 0 continue Plus0
  end
  print("y = %d\n", y);
  automaton
  | Plus ->
      o = x;
      until x mod 5 = 0 continue Moins
  | Moins ->
      o = -x;
      until x mod 5 = 0 continue Plus
  end
tel

node main0 () returns (o:int);
let
  o = f();
tel
